---
title: é¢å¤–é…ç½®
---


# é¢å¤–é…ç½® ğŸš€

## Footer è®¾ç½®

`since` æ˜¯ä¸€ä¸ªæ¥å±•ç¤ºä½ ç«™ç‚¹èµ·å§‹æ—¶é—´çš„é€‰é¡¹ã€‚å®ƒä½äºé¡µé¢çš„æœ€åº•éƒ¨ã€‚

```yaml
# Footer Settings
# --------------------------------------
footer:
  owner:
    enable: true
    since: 2020
  custom_text:
  runtime:
    enable: true
    launch_time: 04/01/2021 00:00:00 # ç½‘ç«™ä¸Šçº¿æ—¶é—´
    work_img: https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg
    work_description: è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~
    offduty_img: https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg
    offduty_description: ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~
  # å¾½æ ‡éƒ¨åˆ†é…ç½®é¡¹ https://shields.io/
  # https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr
  bdageitem:
    - link: https://hexo.io/ #å¾½æ ‡æŒ‡å‘ç½‘ç«™é“¾æ¥
      shields: https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg #å¾½æ ‡API
      message: åšå®¢æ¡†æ¶ä¸ºHexo_v5.4.0 #å¾½æ ‡æç¤ºè¯­
    - link: https://blog.anheyu.com/
      shields: https://pan.anheyu.com/d/anzhiyu/svg/Theme-AnZhiYu-2E67D3.svg
      message: æœ¬ç«™ä½¿ç”¨AnZhiYuä¸»é¢˜
    - link: https://www.dogecloud.com/
      shields: https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-å¤šå‰äº‘-3693F3.svg
      message: æœ¬ç«™ä½¿ç”¨å¤šå‰äº‘ä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ
    - link: https://github.com/
      shields: https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg
      message: æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡
    - link: http://creativecommons.org/licenses/by-nc-sa/4.0/
      shields: https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg
      message: æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯
```

| å‚æ•°                        | è§£é‡Š                                       |
| --------------------------- | ------------------------------------------ |
| owner                       | é¡µè„šç½‘ç«™æ‰€æœ‰è€…@2020-å½“å‰å¹´ä»½               |
| owner.enable                | é¡µè„šç½‘ç«™æ‰€æœ‰è€…æ˜¯å¦å¯ç”¨                     |
| owner.since                 | é¡µè„šå¹´ä»½ï¼Œæ§åˆ¶å°ä¸­æ‰“å°çš„è¿è¡Œæ—¶é—´ä¹Ÿæ¥è‡ªè¿™é‡Œ |
| runtime                     | è¿è¡Œæ—¶é—´                                   |
| runtime.enable              | è¿è¡Œæ—¶é—´æ˜¯å¦å¯ç”¨                           |
| runtime.launch_time         | ç½‘ç«™ä¸Šçº¿æ—¶é—´                               |
| runtime.work_img            | é¡µè„šä¸Šç­æ—¶é—´çš„å¾½æ ‡                         |
| runtime.work_description    | é¡µè„šä¸Šç­æ—¶é—´çš„ title æè¿°                  |
| runtime.offduty_img         | é¡µè„šä¸‹ç­æ—¶é—´çš„å¾½æ ‡                         |
| runtime.offduty_description | é¡µè„šä¸‹ç­æ—¶é—´çš„ title æè¿°                  |
| bdageitem                   | å¾½æ ‡é…ç½®é¡¹                                 |
| bdageitem.link              | å¾½æ ‡é…ç½®é“¾æ¥                               |
| bdageitem.shields           | å¾½æ ‡é…ç½®å¾½æ ‡                               |
| bdageitem.message           | å¾½æ ‡é…ç½®å¾½æ ‡ title                         |

![é¡µè„š](https://img02.anheyu.com/adminuploads/1/2023/04/20/64412c4c08266.png!blogimg)

![é¡µè„šä½ å¥½è‡ªåŠ¨å®šä¹‰æ–‡å­—](https://img02.anheyu.com/adminuploads/1/2023/04/20/64412cb6bbbf5.png!blogimg)

## ä¾§è¾¹æ è®¾ç½®

å¯è‡ªè¡Œå†³å®šå“ªä¸ªé¡¹ç›®éœ€è¦æ˜¾ç¤ºï¼Œå¯å†³å®šä½ç½®ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸æ˜¾ç¤ºä¾§è¾¹æ ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yaml
# aside (ä¾§è¾¹æ )
# --------------------------------------

aside:
  enable: true
  hide: false
  button: true
  mobile: true # display on mobile
  position: right # left or right
  display: # æ§åˆ¶å¯¹åº”è¯¦æƒ…é¡µé¢æ˜¯å¦æ˜¾ç¤ºä¾§è¾¹æ 
    archive: true
    tag: true
    category: true
  card_author:
    enable: true
    description: <div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">è¿™æœ‰å…³äº<b style="color:#fff">äº§å“ã€è®¾è®¡ã€å¼€å‘</b>ç›¸å…³çš„é—®é¢˜å’Œçœ‹æ³•ï¼Œè¿˜æœ‰<b style="color:#fff">æ–‡ç« ç¿»è¯‘</b>å’Œ<b style="color:#fff">åˆ†äº«</b>ã€‚</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">ç›¸ä¿¡ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ä½ æœ‰ç”¨çš„<b style="color:#fff">çŸ¥è¯†</b>å’Œ<b style="color:#fff">æ•™ç¨‹</b>ã€‚</div>
    name_link: /about
  card_announcement:
    enable: false
    content: æ¬¢è¿æ¥çœ‹æˆ‘çš„åšå®¢é¸­~
  card_weixin:
    enable: true
    face: https://img02.anheyu.com/adminuploads/1/2022/09/11/631ddb7c9b250.png
    backFace: https://img02.anheyu.com/adminuploads/1/2022/09/11/631ddeb0900b7.png
  card_recent_post:
    enable: true
    limit: 5 # if set 0 will show all
    sort: date # date or updated
    sort_order: # Don't modify the setting unless you know how it works
  card_categories:
    enable: false
    limit: 8 # if set 0 will show all
    expand: none # none/true/false
    sort_order: # Don't modify the setting unless you know how it works
  card_tags:
    enable: true
    limit: 40 # if set 0 will show all
    color: false
    sort_order: # Don't modify the setting unless you know how it works
    highlightTags:
      - Hexo
      - å‰ç«¯
  card_archives:
    enable: true
    type: monthly # yearly or monthly
    format: MMMM YYYY # eg: YYYYå¹´MMæœˆ
    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending
    limit: 8 # if set 0 will show all
    sort_order: # Don't modify the setting unless you know how it works
  card_webinfo:
    enable: true
    post_count: true
    last_push_date: false
    sort_order: # Don't modify the setting unless you know how it works
```
å…¶ä¸­ `card_weixin` å¯ä»¥æ§åˆ¶å¾®ä¿¡å…¬ä¼—å·çš„å›¾ç‰‡ï¼Œ`face`ä¸ºç¿»è½¬å‰çš„å›¾ç‰‡ï¼Œ`backFace`ä¸ºç¿»è½¬åçš„å›¾ç‰‡ã€‚
## è®¿é—®äººæ•° busuanzi

è®¿é—® busuanzi çš„[å®˜æ–¹ç½‘ç«™](http://busuanzi.ibruce.info/)æŸ¥çœ‹æ›´å¤šçš„ä»‹ç»ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yaml
busuanzi:
  site_uv: true
  site_pv: true
  page_pv: true
```

> å¦‚æœéœ€è¦ä¿®æ”¹ busuanzi çš„ CDN é“¾æ¥ï¼Œå¯é€šè¿‡ ä¸»é¢˜é…ç½®æ–‡ä»¶ çš„ CDN ä¸­çš„ option è¿›è¡Œä¿®æ”¹

```yaml
CDN:
  option:
  	busuanzi: xxxxxxxxx
```

![](https://img02.anheyu.com/adminuploads/1/2023/04/20/6441312192cba.png)

![](https://img02.anheyu.com/adminuploads/1/2023/04/20/6441312d5e8d0.webp!blogimg)

## è¿è¡Œæ—¶é—´

ç½‘é¡µå·²è¿è¡Œæ—¶é—´

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# Time difference between publish date and now (ç½‘é¡µè¿è¡Œæ—¶é—´)
# Formal: Month/Day/Year Time or Year/Month/Day Time
runtimeshow:
  enable: true
  publish_date: 4/1/2021 00:00:00
```

![è¿è¡Œæ—¶é—´](https://img02.anheyu.com/adminuploads/1/2023/04/20/6441319e80977.webp)

## æœ€æ–°è¯„è®º

æœ€æ–°è¯„è®ºåªä¼šåœ¨åˆ·æ–°æ—¶æ‰ä¼šå»è¯»å–ï¼Œå¹¶ä¸ä¼šå®æ—¶å˜åŒ–

ç”±äº API æœ‰ è®¿é—®æ¬¡æ•°é™åˆ¶ï¼Œä¸ºäº†é¿å…è°ƒç”¨å¤ªå¤šï¼Œä¸»é¢˜é»˜è®¤å­˜å–æœŸé™ä¸º 10 åˆ†é’Ÿã€‚ä¹Ÿå°±æ˜¯èª¬ï¼Œè°ƒç”¨åèµ„æ–™ä¼šå­˜åœ¨ localStorage é‡Œï¼Œ10 åˆ†é’Ÿå†…åˆ·æ–°ç½‘ç«™åªä¼šå» localStorage è¯»å–èµ„æ–™ã€‚ 10 åˆ†é’ŸæœŸé™ä¸€è¿‡ï¼Œåˆ·æ–°é¡µé¢æ—¶æ‰ä¼šå»è°ƒå– API è¯»å–æ–°çš„æ•°æ®ã€‚ï¼ˆ é…ç½® storageï¼Œå¯è‡ªè¡Œé…ç½®ç¼“å­˜æ—¶é—´ï¼‰

åœ¨ä¾§è¾¹æ æ˜¾ç¤ºæœ€æ–°è¯„è®ºæ¿å—

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yaml
# Console - Newest Comments
newest_comments:
  enable: true
  sort_order: # Don't modify the setting unless you know how it works
  limit: 6
  storage: 10 # unit: mins, save data to localStorage
  avatar: true
```

| é…ç½®    | è§£é‡Š                    |
| ------- | ----------------------- |
| limit   | æ˜¾ç¤ºçš„æ•°é‡              |
| storage | è®¾ç½®ç¼“å­˜æ—¶é—´ï¼Œå•ä½ åˆ†é’Ÿ |
| avatar  | æ˜¯å¦æ˜¾ç¤ºå¤´åƒ            |

![](https://img02.anheyu.com/adminuploads/1/2023/04/20/644132e885d91.webp!blogimg)

## å³ä¸‹è§’æŒ‰é’®

### ç®€ç¹è½¬æ¢

ç®€ä½“ç¹ä½“äº’æ¢

å³ä¸‹è§’ä¼šæœ‰ç®€ç¹è½¬æ¢æŒ‰é’®ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
translate:
  enable: true
  # é»˜è®¤æŒ‰é’®æ˜¾ç¤ºæ–‡å­—(ç½‘ç«™æ˜¯ç®€ä½“ï¼Œåº”è®¾ç½®ä¸º'default: ç¹')
  default: ç®€
  #ç½‘ç«™é»˜è®¤è¯­è¨€ï¼Œ1: ç¹ä½“ä¸­æ–‡, 2: ç®€ä½“ä¸­æ–‡
  defaultEncoding: 1
  #å»¶è¿Ÿæ—¶é—´,è‹¥ä¸åœ¨å‰, è¦è®¾å®šå»¶è¿Ÿç¿»è¯‘æ—¶é—´, å¦‚100è¡¨ç¤º100ms,é»˜è®¤ä¸º0
  translateDelay: 0
  #å½“æ–‡å­—æ˜¯ç®€ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—
  msgToTraditionalChinese: "ç¹"
  #å½“æ–‡å­—æ˜¯ç¹ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—
  msgToSimplifiedChinese: "ç®€"
```

> ç®€ä½“

![ç®€ä½“](https://img02.anheyu.com/adminuploads/1/2023/04/20/644133ef810f7.webp)

> ç¹ä½“

![ç¹ä½“](https://img02.anheyu.com/adminuploads/1/2023/04/20/644133ef85f42.webp)

### é˜…è¯»æ¨¡å¼

é˜…è¯»æ¨¡å¼ä¸‹ä¼šå»æ‰é™¤æ–‡ç« å¤–çš„å†…å®¹ï¼Œé¿å…å¹²æ‰°é˜…è¯»ã€‚

åªä¼šå‡ºç°åœ¨æ–‡ç« é¡µé¢ï¼Œå³ä¸‹è§’ä¼šæœ‰é˜…è¯»æ¨¡å¼æŒ‰é’®ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yaml
readmode: true
```

![é˜…è¯»æ¨¡å¼](https://img02.anheyu.com/adminuploads/1/2023/04/20/6441350b98041.webp)

### å¤œé—´æ¨¡å¼

å³ä¸‹è§’ä¼šæœ‰å¤œé—´æ¨¡å¼æŒ‰é’®

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yaml
# dark mode
darkmode:
  enable: true
  # Toggle Button to switch dark/light mode
  button: true
  # Switch dark/light mode automatically (è‡ªåŠ¨åˆ‡æ¢ dark modeå’Œ light mode)
  # autoChangeMode: 1  Following System Settings, if the system doesn't support dark mode, it will switch dark mode between 6 pm to 6 am
  # autoChangeMode: 2  Switch dark mode between 6 pm to 6 am
  # autoChangeMode: false
  autoChangeMode: 1
  # Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18
  start: # 8
  end: # 22
```

| å‚æ•°           | è§£é‡Š                                                                                                                                                                                                                                     |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| button         | æ˜¯å¦åœ¨å³ä¸‹è§’æ˜¾ç¤ºæ—¥å¤œæ¨¡å¼åˆ‡æ¢æŒ‰é’®                                                                                                                                                                                                         |
| autoChangeMode | è‡ªåŠ¨åˆ‡æ¢çš„æ¨¡å¼                                                                                                                                                                                                                           |
| autoChangeMode | autoChangeMode: 1 è·Ÿéšç³»ç»Ÿè€Œå˜åŒ–ï¼Œä¸æ”¯æŒçš„æµè§ˆå™¨/ç³»ç»Ÿå°†æŒ‰ç…§æ—¶é—´ start åˆ° end ä¹‹é—´åˆ‡æ¢ä¸º light mode<br/>autoChangeMode: 2 åªæŒ‰ç…§æ—¶é—´ start åˆ° end ä¹‹é—´åˆ‡æ¢ä¸º light mode ,å…¶ä½™æ—¶é—´ä¸º dark mode<br/>autoChangeMode: false å–æ¶ˆè‡ªåŠ¨åˆ‡æ¢<br/> |
| start          | light mode çš„å¼€å§‹æ—¶é—´                                                                                                                                                                                                                    |
| end            | light mode çš„ç»“æŸæ—¶é—´                                                                                                                                                                                                                    |

## æŒ‰é’®æ’åº

```yaml
# Don't modify the following settings unless you know how they work (éå¿…è¦è¯·ä¸è¦ä¿®æ”¹ )
# Choose: readmode,translate,darkmode,hideAside,toc,chat,comment
# Don't repeat ä¸è¦é‡å¤
rightside_item_order:
  enable: false
  hide: # readmode,translate,darkmode,hideAside
  show: # toc,chat,comment
```

## æ ‡ç­¾å¤–æŒ‚

::: tip
æ ‡ç­¾å¤–æŒ‚æ˜¯ Hexo ç‹¬æœ‰çš„åŠŸèƒ½ï¼Œå¹¶ä¸æ˜¯æ ‡å‡†çš„ Markdown æ ¼å¼ã€‚
ä»¥ä¸‹çš„å†™æ³•ï¼Œåªé€‚ç”¨äº AnZhiYu ä¸»é¢˜ï¼Œç”¨åœ¨å…¶å®ƒä¸»é¢˜ä¸Šä¸ä¼šæœ‰æ•ˆæœï¼Œç”šè‡³å¯èƒ½ä¼šæŠ¥é”™ã€‚ä½¿ç”¨å‰è¯·ç•™æ„
:::

::: warning
æ ‡ç­¾å¤–æŒ‚è™½ç„¶èƒ½ä¸ºä¸»é¢˜å¸¦æ¥ä¸€äº›é¢å¤–çš„åŠŸèƒ½å’Œ UI æ–¹é¢çš„å¼ºåŒ–ï¼Œä½†æ˜¯ï¼Œæ ‡ç­¾å¤–æŒ‚ä¹Ÿæœ‰æ˜æ˜¾çš„é™åˆ¶ï¼Œä½¿ç”¨æ—¶è¯·ç•™æ„ã€‚
:::

åªéœ€è¦å°†æ ‡ç­¾å†™åœ¨mdæ–‡ä»¶å†…å³å¯ä½¿ç”¨ï¼Œè¯¦ç»†å†™æ³•è¯·é˜…è¯» [å®‰çŸ¥é±¼ä¸»é¢˜æ ‡ç­¾ Tag Plugins](https://blog.anheyu.com/posts/d50a.html) æŸ¥çœ‹


## åˆ†æç»Ÿè®¡

### ç™¾åº¦ç»Ÿè®¡

1. ç™»å½•ç™¾åº¦ç»Ÿè®¡çš„[å®˜æ–¹ç½‘ç«™](https://tongji.baidu.com/web/welcome/login?castk=LTE%3D)

2. æ‰¾åˆ°ä½ ç™¾åº¦ç»Ÿè®¡çš„ç»Ÿè®¡ä»£ç 

![](https://bu.dusays.com/2023/06/02/64795c52dff22.jpg)

3. ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`
```yml
baidu_analytics: ä½ çš„ä»£ç 
```

### è°·æ­Œåˆ†æ

1. ç™»å½•è°·æ­Œåˆ†æçš„[å®˜æ–¹ç½‘ç«™](https://www.google.com/analytics/)

2. æ‰¾åˆ°ä½ çš„è°·æ­Œåˆ†æçš„è·Ÿè¸ª ID

![è°·æ­Œåˆ†æ](https://bu.dusays.com/2023/06/02/64795cfc15eef.jpg)

3. ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`
```yml
google_analytics: ä½ çš„ä»£ç  # é€šå¸¸ä»¥`UA-`æ‰“å¤´
```

### Cloudflare

1. ç™»å½• Cloudflare åˆ†æçš„[å®˜æ–¹ç½‘ç«™](https://www.cloudflare.com/zh-tw/web-analytics/)
2. æ‰¾åˆ° `JavaScript ç¨‹å¼ç ç‰‡æ®µ`
3. æ‰¾åˆ°ä½ çš„ `token`
![](https://bu.dusays.com/2023/06/02/64795d7a7776b.png)
4. ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`
```yml
# Cloudflare Analytics
# https://www.cloudflare.com/zh-tw/web-analytics/
cloudflare_analytics:
```

### Microsoft Clarity

1. ç™»å½• Clarity çš„[å®˜æ–¹ç½‘ç«™](https://clarity.microsoft.com/)

2. åˆ›å»º `PROJECT`

3. æ‰¾åˆ°ä½ çš„ `ID`

![](https://bu.dusays.com/2023/06/02/64795dd09af94.png)

4. ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`
```yml
# Microsoft Clarity
# https://clarity.microsoft.com/
microsoft_clarity:
```

## å¹¿å‘Š

### è°·æ­Œå¹¿å‘Š

ä¸»é¢˜å·²é›†æˆè°·æ­Œå¹¿å‘Šï¼ˆè‡ªåŠ¨å¹¿å‘Šï¼‰

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`
```yml
google_adsense:
  enable: true
  auto_ads: true
  js: https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js
  client: # å¡«å…¥ä¸ªäººè¯†åˆ«ç 
  enable_page_level_ads: true
```

![](https://bu.dusays.com/2023/06/02/64795e6fba8e3.png)

### æ‰‹åŠ¨å¹¿å‘Šé…ç½®
ä¸»é¢˜é¢„ç•™äº†ä¸‰ä¸ªä½ç½®å¯ä¾›æ’å…¥å¹¿å‘Šï¼Œåˆ†åˆ«ä¸ºä¸»é¡µæ–‡ç« (æ¯ä¸‰ç¯‡æ–‡ç« å‡ºç°å¹¿å‘Š)/asideå…¬å‘Šä¹‹å/æ–‡ç« é¡µæ‰“èµä¹‹åã€‚
æŠŠhtmlä»£ç å¡«å†™åˆ°å¯¹åº”çš„ä½ç½®

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
ad:
  index:
  aside:
  post:
```

ä¾‹å¦‚: 

```yml
index: <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="xxxxxxxxxxxx" data-ad-client="ca-pub-xxxxxxxxxx" data-ad-slot="xxxxxxxxxx"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
```


## é¡µé¢åŠ è½½åŠ¨ç”»

å½“è¿›å…¥ç½‘é¡µæ—¶ï¼Œå› ä¸ºåŠ è½½é€Ÿåº¦çš„é—®é¢˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´ top_img å›¾ç‰‡å‡ºç°æ–­å±‚æ˜¾ç¤ºï¼Œæˆ–è€…ç½‘é¡µåŠ è½½ä¸å…¨è€Œå‡ºç°ç­‰å¾…æ—¶é—´ï¼Œå¼€å¯preloaderåï¼Œä¼šæ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼Œç­‰é¡µé¢åŠ è½½å®Œï¼ŒåŠ è½½åŠ¨ç”»ä¼šæ¶ˆå¤±ã€‚

ä¸»é¢˜æ”¯æŒ pace.js çš„åŠ è½½åŠ¨ç”»ï¼Œå…·ä½“å¯æŸ¥çœ‹ [pace.js](https://codebyzach.github.io/pace/)

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`ï¼Œå…¶ä¸­`avatar`å¯ä»¥è‡ªå®šä¹‰åŠ è½½æ—¶çš„å¤´åƒ

```yml
# Loading Animation (åŠ è½½åŠ¨ç”»)
preloader:
  enable: true
  # source
  # 1. fullpage-loading
  # 2. pace (progress bar)
  # else all
  source: 3
  # pace theme (see https://codebyzach.github.io/pace/)
  pace_css_url:
  avatar: # è‡ªå®šä¹‰å¤´åƒ
```


## å›¾ç‰‡å¤§å›¾æŸ¥çœ‹æ¨¡å¼

::: warning
å¦‚æœä½ å¹¶ä¸æƒ³ä¸ºæŸå¼ å›¾ç‰‡æ·»åŠ å¤§å›¾æŸ¥çœ‹æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ html æ ¼å¼å¼•ç”¨å›¾ç‰‡ï¼Œä½µä¸ºå›¾ç‰‡æ·»åŠ  no-lightbox class åã€‚
:::

ä¿®æ”¹ <mark style="color:blue;">`ä¸»é¢˜é…ç½®æ–‡ä»¶`</mark>

:::code-group

```yaml [fancybox]
# fancybox http://fancyapps.com/fancybox/3/
fancybox: true
```

```yaml [medium_zoom]
medium_zoom: true
```

:::

## Pjax

å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥ï¼Œé€šè¿‡ajaxæ›´æ–°é¡µé¢éœ€è¦å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶åä½¿ç”¨HTML5çš„pushStateä¿®æ”¹æµè§ˆå™¨çš„URLåœ°å€ã€‚

è¿™æ ·å¯ä»¥ä¸ç”¨é‡å¤åŠ è½½ç›¸åŒçš„èµ„æºï¼ˆcss/jsï¼‰ï¼Œ ä»è€Œæå‡ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚

```yml
# Pjax [Beta]
# It may contain bugs and unstable, give feedback when you find the bugs.
# https://github.com/MoOx/pjax
pjax: 
  enable: true
  exclude:
    - /music/
    - /no-pjax/
```

::: tip
å¯¹äºä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œæœ‰äº›å¹¶ä¸æ”¯æŒ pjax ã€‚
ä½ å¯ä»¥æŠŠç½‘é¡µåŠ å…¥åˆ° exclude é‡Œï¼Œè¿™ä¸ªç½‘é¡µä¼šè¢« pjax æ’é™¤åœ¨å¤–ã€‚
ç‚¹å‡»è¯¥ç½‘é¡µä¼šé‡æ–°åŠ è½½ç½‘ç«™

ä½¿ç”¨pjaxåï¼Œä¸€äº›è‡ªå·±DIYçš„jså¯èƒ½ä¼šæ— æ•ˆï¼Œè·³è½¬é¡µé¢æ—¶éœ€è¦é‡æ–°è°ƒç”¨ï¼Œè¯·å‚è€ƒ[Pjaxæ–‡æ¡£](https://github.com/MoOx/pjax)

ä½¿ç”¨pjaxåï¼Œä¸€äº›ä¸ªåˆ«é¡µé¢åŠ è½½çš„js/cssï¼Œå°†ä¼šæ”¹ä¸ºæ‰€æœ‰é¡µé¢éƒ½åŠ è½½
:::

::: warning

ä¸»é¢˜é»˜è®¤å¼€å¯Pjaxï¼Œå¤§é‡æœåŠ¡ä¾èµ–äºpjaxï¼Œå…³é—­å¯èƒ½ä¼šé€ æˆç ´åæ€§é—®é¢˜ã€‚
ä¸»é¢˜å¯¹pjaxåšäº†æ·±åº¦é€‚é…ï¼Œå…³é—­å¯èƒ½ä¼šé€ æˆä¸¥é‡çš„åæœï¼Œæ¯”å¦‚æŸäº›é“¾æ¥æ— æ³•è·³è½¬ã€‚

å®‰çŸ¥é±¼ä¸»é¢˜çš„çš„Pjaxç›®å‰ä»æœ‰ä¸€äº›é—®é¢˜ï¼Œè¯·ç•™æ„

ä½¿ç”¨è°·æ­Œå¹¿å‘Šå¯èƒ½ä¼šæŠ¥é”™ï¼ˆä¾‹å¦‚è‡ªåŠ¨å¹¿å‘Šï¼‰
å¦‚æœä½ åœ¨ä½¿ç”¨ä¸­å‘ç°é—®é¢˜ï¼Œæ¬¢è¿åé¦ˆBugs

:::

## Snackbar å¼¹çª—

Snackbar å¼¹çª—,æ ¹æ®è‡ªå·±çˆ±å¥½å¼€å¯

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# Snackbar å¼¹çª—
# https://github.com/polonel/SnackBar
# position å¼¹çª—ä½ç½®
# å¯é€‰ top-left / top-center / top-right / bottom-left / bottom-center / bottom-right
snackbar:
  enable: true
  position: bottom-left
  bg_light: '#49b1f5' #light modeæ—¶å¼¹çª—èƒŒæ™¯
  bg_dark: '#2d3035' #dark modeæ—¶å¼¹çª—èƒŒæ™¯
```
## Pangu

> å¦‚æœä½ è·Ÿæˆ‘ä¸€æ ·ï¼Œæ¯æ¬¡çœ‹åˆ°ç½‘é¡µä¸Šçš„ä¸­æ–‡å­—å’Œè‹±æ–‡ã€æ•°å­—ã€ç¬¦å·æŒ¤åœ¨ä¸€å—ï¼Œå°±ä¼šåç«‹éš¾å®‰ï¼Œå¿ä¸ä½æƒ³åœ¨å®ƒä»¬ä¹‹é—´åŠ ä¸ªç©ºæ ¼ã€‚è¿™ä¸ªå¤–æŒ‚æ­£æ˜¯ä½ åœ¨ç½‘è·¯ä¸–ç•Œèµ°è·³æ‰€éœ€è¦çš„ä¸œè¥¿ï¼Œå®ƒä¼šè‡ªåŠ¨æ›¿ä½ åœ¨ç½‘é¡µä¸­æ‰€æœ‰çš„ä¸­æ–‡å­—å’ŒåŠå½¢çš„è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·ä¹‹é—´æ’å…¥ç©ºç™½ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# https://github.com/vinta/pangu.js
# Insert a space between Chinese character and English character (ä¸­è‹±æ–‡ä¹‹é—´æ·»åŠ ç©ºæ ¼)
pangu:
  enable: false
  field: post # site/post
```

`field`åªæ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œ`post`(åªåœ¨æ–‡ç« é¡µç”Ÿæ•ˆ)å’Œ`site`(å…¨ç«™ç”Ÿæ•ˆ)

## PWA

PWAæ˜¯webä¼˜åŒ–çš„ä¸€ç§æ‰‹æ®µï¼Œä¸»é¢˜åšäº†ä¸€å®šçš„é€‚é…ï¼Œä½†æ˜¯ä¾ç„¶éœ€è¦è¿›è¡Œé…ç½®ã€‚è¦ä¸ºAnZhiYué…ä¸Š PWA ç‰¹æ€§, ä½ å¯ä»¥è¿›è¡Œé€‰æ‹©ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥è¿›è¡Œé€‚é…ï¼Œ`hexo-offline`é€‚åˆåˆå­¦è€…ï¼Œ`hexo-swpp`é€‚åˆå·²ç»å¯¹`service worker`æœ‰ä¸€å®šè§£å†³é—®é¢˜èƒ½åŠ›çš„è¿›é˜¶ä½¿ç”¨ã€‚

### hexo-offline
1. æ‰“å¼€ hexo å·¥ä½œç›®å½•
2. <mark style="color:blue;">`npm install hexo-offline --save`</mark> æˆ–è€… <mark style="color:blue;">`yarn add hexo-offline`</mark>
3. åœ¨æ ¹ç›®å½•åˆ›å»º <mark style="color:blue;">`hexo-offline.config.cjs`</mark> æ–‡ä»¶ï¼Œå¹¶å¢åŠ ä»¥ä¸‹å†…å®¹ã€‚

```js
// offline config passed to workbox-build.
module.exports = {
  // é™æ€æ–‡ä»¶åˆé›†ï¼Œå¦‚æœä½ çš„ç«™ç‚¹ä½¿ç”¨äº†ä¾‹å¦‚ webp æ ¼å¼çš„æ–‡ä»¶ï¼Œè¯·å°†æ–‡ä»¶ç±»å‹æ·»åŠ è¿›å»ã€‚
  globPatterns: ["404.html", "css/index.css"],
  globDirectory: "public",
  swDest: "public/service-worker.js",
  maximumFileSizeToCacheInBytes: 10485760, // ç¼“å­˜çš„æœ€å¤§æ–‡ä»¶å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚
  skipWaiting: true,
  clientsClaim: true,
  runtimeCaching: [
    // å¦‚æœä½ éœ€è¦åŠ è½½ CDN èµ„æºï¼Œè¯·é…ç½®è¯¥é€‰é¡¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ä¸é…ç½®ã€‚
    // CDNs - should be CacheFirst, since they should be used specific versions so should not change
    {
      urlPattern: /^https:\/\/npm\.elemecdn\.com\/anzhiyu-blog/, // ç¼“å­˜elmentcdn
      handler: "CacheFirst",
    },
  ],
  manifestTransforms: [
    async (manifestEntries, compilation) => {
      const timestamp = new Date().toISOString().replace(/[-:.TZ]/g, ""); // è·å–å½“å‰æ—¶é—´æˆ³
      manifestEntries.push(
        {
          url: "/",
          revision: `index-${timestamp}`,
        },
        {
          url: "music/",
          revision: `music-${timestamp}`,
        },
        {
          url: "about/",
          revision: `about-${timestamp}`,
        }
      );
      return { manifest: manifestEntries };
    },
  ],
};
```

æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ [hexo-offline](https://github.com/JLHwung/hexo-offline) çš„å®˜æ–¹æ–‡æ¡£

4. åœ¨<mark style="color:blue;">`ä¸»é¢˜é…ç½®æ–‡ä»¶`</mark>ä¸­å¼€å¯ pwa é€‰é¡¹ã€‚

```yaml
# PWA
# See https://github.com/JLHwung/hexo-offline
# ---------------
pwa:
  enable: true
  startup_image_enable: true
  manifest: /manifest.json
  theme_color: var(--anzhiyu-main)
  mask_icon: /img/siteicon/apple-icon-180.png
  apple_touch_icon: /img/siteicon/apple-icon-180.png
  bookmark_icon: /img/siteicon/apple-icon-180.png
  favicon_32_32: /img/siteicon/32.png
  favicon_16_16: /img/siteicon/16.png
```

5. åœ¨åˆ›å»º<mark style="color:blue;">`source/`</mark>ç›®å½•ä¸­åˆ›å»º<mark style="color:blue;">`manifest.json`</mark>æ–‡ä»¶ã€‚

```json
{
  "name": "å®‰çŸ¥é±¼`Blog",
  "short_name": "å®‰çŸ¥é±¼",
  "theme_color": "#3b70fc",
  "background_color": "#3b70fc",
  "display": "fullscreen",
  "scope": "/",
  "start_url": "/",
  "id": "/",
  "icons": [
    {
      "src": "img/siteicon/manifest-icon-192.maskable.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "img/siteicon/manifest-icon-192.maskable.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "maskable"
    },
    {
      "src": "img/siteicon/manifest-icon-512.maskable.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "img/siteicon/manifest-icon-512.maskable.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "maskable"
    }
  ],
  "splash_pages": null
}
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡ [Web App Manifestopen](https://app-manifest.firebaseapp.com/) å¿«é€Ÿåˆ›å»º<mark style="color:blue;">`manifest.json`</mark>ã€‚ï¼ˆWeb App Manifest è¦æ±‚è‡³å°‘åŒ…å«ä¸€ä¸ª 512\*512 åƒç´ çš„å›¾æ ‡ï¼‰

6. å¯ä»¥é€šè¿‡<mark style="color:blue;">`Chrome`</mark>æ’ä»¶<mark style="color:blue;">`Lighthouse`</mark>æ£€æŸ¥ PWA é…ç½®æ˜¯å¦ç”Ÿæ•ˆä»¥åŠé…ç½®æ˜¯å¦æ­£ç¡®ã€‚

* æ‰“å¼€åšå®¢é¡µé¢
* å¯åŠ¨<mark style="color:blue;">`Lighthouse`</mark>æ’ä»¶ (Lighthouseæ’ä»¶è¦æ±‚è‡³å°‘åŒ…å«ä¸€ä¸ª 512\*512 åƒç´ çš„å›¾æ ‡)

å…³äº PWAï¼ˆæ¸è¿›å¼å¢å¼º Web åº”ç”¨ï¼‰çš„æ›´å¤šå†…å®¹è¯·å‚è€ƒ [Google Tools for Web Developersopen](https://developers.google.com/web/tools/lighthouse/audits/address-bar)

7. ç”Ÿæˆpwaå¯åŠ¨å›¾

* å®‰è£… pwa-asset-generatorï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
  ```bash
  npm install pwa-asset-generator
  ```
* hexoæ ¹ç›®å½•æ‰§è¡Œ`hexo g`åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
  ```bash
  npx pwa-asset-generator ./public/img/512.png ./public/img/siteicon --padding "calc(50vh - 20%) calc(50vw - 40%)" -s false -h true
  ```
* è¿™æ¡å‘½ä»¤ä¼šä½¿ç”¨<mark style="color:blue;">`themes/source/img/512.png`</mark>è¿™å¼ å›¾ç‰‡æ¥ç”Ÿæˆsiteiconåˆ°ç›®å½•<mark style="color:blue;">`/public/img/siteicon`</mark>ä¸­ï¼Œç”±äº<mark style="color:blue;">`hexo cl`</mark>ä¼šæ¸…é™¤<mark style="color:blue;">`/public`</mark>ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æ¯æ¬¡<mark style="color:blue;">`hexo d`</mark>ä¹‹å‰éƒ½éœ€è¦æ‰§è¡Œï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡<mark style="color:blue;">`hexo d`</mark>ä¹‹å‰éƒ½æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥å°†ä¸»é¢˜ä¸­çš„<mark style="color:blue;">`themes/source/img/512.png`</mark>å›¾ç‰‡å¤åˆ¶ç§»åŠ¨åˆ°`æ ¹ç›®å½•`<mark style="color:blue;">`/source/img`</mark>ä¸­ï¼Œç„¶åå°†ç”Ÿæˆåçš„<mark style="color:blue;">`/public/img/siteicon`</mark>æ–‡ä»¶å¤¹å¤åˆ¶åˆ°`æ ¹ç›®å½•`<mark style="color:blue;">`/source/img`</mark>ä¸­ï¼Œè¿™æ ·`æ ¹ç›®å½•`<mark style="color:blue;">`/source/img`</mark>ä¸­å°±ä¼šä¸€ç›´æœ‰<mark style="color:blue;">`siteicon`</mark>ï¼Œä»¥åæ‰§è¡Œ<mark style="color:blue;">`hexo g`</mark>æ—¶ï¼Œä¹Ÿä¼šå°†<mark style="color:blue;">`siteicon`</mark>ç”Ÿæˆåˆ°<mark style="color:blue;">`public`</mark>ç›®å½•ä¸­ã€‚

### hexo-swpp

ä¸»é¢˜ç‰ˆæœ¬å¤§äº1.5.2æ”¯æŒï¼Œè¿™ç§åŠ è½½åŠæ³•ä¸ºæå…¶è¿…é€Ÿï¼Œç”±swæ§åˆ¶å…¶ç¼“å­˜ï¼Œå®ç°åŸç†ä»¥åŠé…ç½®è¯·æŸ¥çœ‹ä»¥ä¸‹ä¸‰ç¯‡æ–‡ç« 

[hexo-swpp](https://github.com/EmptyDreams/hexo-swpp#readme)

[swpp-backends](https://github.com/EmptyDreams/swpp-backends)

[Swpp Backends å®˜æ–¹æ–‡æ¡£](https://kmar.top/posts/b70ec88f/)


é…ç½®æ–¹æ³•ï¼š

1. å®‰è£…hexo-swppæ’ä»¶å’Œswpp-backendsï¼Œåœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œ
    ```bash
    npm install hexo-swpp --save
    npm install swpp-backends --save
    ```
2. åœ¨`ä¸»é¢˜é…ç½®æ–‡ä»¶`ä¸­å¼€å¯ pwa é€‰é¡¹ã€‚
    ```yaml
    # PWA
    # See https://github.com/JLHwung/hexo-offline
    # ---------------
    pwa:
      enable: true
      startup_image_enable: true
      manifest: /manifest.json
      theme_color: var(--anzhiyu-main)
      mask_icon: /img/siteicon/apple-icon-180.png
      apple_touch_icon: /img/siteicon/apple-icon-180.png
      bookmark_icon: /img/siteicon/apple-icon-180.png
      favicon_32_32: /img/siteicon/32.png
      favicon_16_16: /img/siteicon/16.png
    ```
3. åœ¨ hexo çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹å³å¯å¯ç”¨æ’ä»¶ï¼š
    ```yml
    swpp:
      # æ˜¯å¦å¯ç”¨æ’ä»¶
      enable: true
      # æ˜¯å¦åœ¨å‘å¸ƒå‰è‡ªåŠ¨æ‰§è¡Œè„šæœ¬
      # auto_exec: true
    ```

4.  åœ¨åˆ›å»º`source/`ç›®å½•ä¸­åˆ›å»º`manifest.json`æ–‡ä»¶ã€‚
    ```json
    {
      "name": "å®‰çŸ¥é±¼`Blog",
      "short_name": "å®‰çŸ¥é±¼",
      "theme_color": "#3b70fc",
      "background_color": "#3b70fc",
      "display": "fullscreen",
      "scope": "/",
      "start_url": "/",
      "id": "/",
      "icons": [
        {
          "src": "img/siteicon/manifest-icon-192.maskable.png",
          "sizes": "192x192",
          "type": "image/png",
          "purpose": "any"
        },
        {
          "src": "img/siteicon/manifest-icon-192.maskable.png",
          "sizes": "192x192",
          "type": "image/png",
          "purpose": "maskable"
        },
        {
          "src": "img/siteicon/manifest-icon-512.maskable.png",
          "sizes": "512x512",
          "type": "image/png",
          "purpose": "any"
        },
        {
          "src": "img/siteicon/manifest-icon-512.maskable.png",
          "sizes": "512x512",
          "type": "image/png",
          "purpose": "maskable"
        }
      ],
      "splash_pages": null
    }
    ```

    ä½ ä¹Ÿå¯ä»¥é€šè¿‡ [Web App Manifestopen](https://app-manifest.firebaseapp.com/) å¿«é€Ÿåˆ›å»º`manifest.json`ã€‚ï¼ˆWeb App Manifest è¦æ±‚è‡³å°‘åŒ…å«ä¸€ä¸ª 512\*512 åƒç´ çš„å›¾æ ‡ï¼‰
5. å¯ä»¥é€šè¿‡`Chrome`æ’ä»¶`Lighthouse`æ£€æŸ¥ PWA é…ç½®æ˜¯å¦ç”Ÿæ•ˆä»¥åŠé…ç½®æ˜¯å¦æ­£ç¡®ã€‚
    æ‰“å¼€åšå®¢é¡µé¢å¯åŠ¨`Lighthouse`æ’ä»¶ (Lighthouseæ’ä»¶è¦æ±‚è‡³å°‘åŒ…å«ä¸€ä¸ª 512\*512 åƒç´ çš„å›¾æ ‡)
    å…³äº PWAï¼ˆæ¸è¿›å¼å¢å¼º Web åº”ç”¨ï¼‰çš„æ›´å¤šå†…å®¹è¯·å‚è€ƒ [Google Tools for Web Developersopen](https://developers.google.com/web/tools/lighthouse/audits/address-bar)

6. ç”Ÿæˆpwaå¯åŠ¨å›¾
   å®‰è£…`pwa-asset-generator`
   ```bash
   npm install pwa-asset-generator
   ```
  hexoæ ¹ç›®å½•æ‰§è¡Œ`hexo g`ç„¶åæ‰§è¡Œ
  ```bash
  npx pwa-asset-generator ./public/img/512.png ./public/img/siteicon --padding "calc(50vh - 20%) calc(50vw - 40%)" -s false -h true
  ```
  è¿™æ¡å‘½ä»¤ä¼šä½¿ç”¨`themes/anzhiyu/source/img/512.png`è¿™å¼ å›¾ç‰‡æ¥ç”Ÿæˆsiteiconåˆ°ç›®å½•`/public/img/siteicon`ä¸­ï¼Œç”±äº`hexo cl`ä¼šæ¸…é™¤`/public`ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æ¯æ¬¡`hexo d`ä¹‹å‰éƒ½éœ€è¦æ‰§è¡Œï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡`hexo d`ä¹‹å‰éƒ½æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥å°†ä¸»é¢˜ä¸­çš„`themes/anzhiyu/source/img/512.png`å›¾ç‰‡å¤åˆ¶ç§»åŠ¨åˆ°`æ ¹ç›®å½•``/source/img`ä¸­ï¼Œç„¶åå°†ç”Ÿæˆåçš„`/public/img/siteicon`æ–‡ä»¶å¤¹å¤åˆ¶åˆ°`æ ¹ç›®å½•``/source/img`ä¸­ï¼Œè¿™æ ·`æ ¹ç›®å½•``/source/img`ä¸­å°±ä¼šä¸€ç›´æœ‰`siteicon`ï¼Œä»¥åæ‰§è¡Œ`hexo g`æ—¶ï¼Œä¹Ÿä¼šå°†`siteicon`ç”Ÿæˆåˆ°`public`ç›®å½•ä¸­ã€‚

7. åœ¨hexo gä»¥åæ‰§è¡Œä¸€æ¬¡hexo swppå‘½ä»¤
  å¦‚æœä½ çš„ç½‘ç«™ä½¿ç”¨äº† CDN ä¸”å¯ç”¨äº† CDN ç«¯ç¼“å­˜ï¼Œè¯·åŠ¡å¿…å°† CDN ç¼“å­˜æ—¶é—´è°ƒæ•´è‡³æœ€å¤§å€¼ï¼Œç„¶åæ¯æ¬¡æ›´æ–°ç½‘é¡µå†…å®¹åæ‰‹åŠ¨åˆ·æ–° CDN ç¼“å­˜ã€‚
  å› ä¸ºæœ¬æ’ä»¶çš„æ›´æ–°æ–¹æ¡ˆè¦æ±‚`update.json`æ›´æ–°æ—¶ï¼Œå…¶å®ƒæ‰€æœ‰éœ€è¦æ›´æ–°çš„èµ„æºå‡å·²æ›´æ–°ï¼Œå¦åˆ™å®¢æˆ·ç«¯æ‹‰å–æ—¶ä¼šè¯¯ä»¥ä¸ºæ‹‰å–åˆ°äº†æœ€æ–°çš„å†…å®¹ï¼Œä»è€Œå¯¼è‡´éƒ¨åˆ†èµ„æºâ€œé”™è¿‡â€æ›´æ–°ã€‚
  ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯`update.json`å¿…é¡»ä¸éœ€è¦ç¼“å­˜çš„èµ„æºå…±äº«åŒæ ·çš„ CDN ç¼“å­˜å‘¨æœŸï¼Œä½†æ˜¯ç›®å‰å¸‚é¢ä¸Šæˆ‘çŸ¥é“çš„ CDN æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥åªèƒ½ä»ä¸‹åˆ—é€‰é¡¹ä¸­äºŒé€‰ä¸€
    - æŠŠæ‰€æœ‰èµ„æºçš„ CDN ç¼“å­˜æ—¶é—´æ‹‰æ»¡ï¼Œæ¯æ¬¡æ›´æ–°ç½‘ç«™æ—¶åˆ·æ–° CDN ç¼“å­˜
    - CDN ä¸ç¼“å­˜æ‰€æœ‰éœ€è¦åœ¨å®¢æˆ·ç«¯ç¼“å­˜çš„èµ„æº
  
    Netlify æ„å»ºåè‡ªåŠ¨åˆ·æ–° CDN ç¼“å­˜çš„æ•™ç¨‹è§ï¼š[ã€Šå…¨è‡ªåŠ¨åšå®¢éƒ¨ç½²æ–¹æ¡ˆã€‹](https://kmar.top/posts/a427ed12/)
    è¯·åŠ¡å¿…æ³¨æ„ CDN ç¼“å­˜çš„é—®é¢˜ï¼ï¼ï¼
    é»˜è®¤ä¸»é¢˜å°†åªç¼“å­˜404å’Œindex.csså¦‚æœä½ éœ€è¦é…ç½®è‡ªå·±çš„ç¼“å­˜ç­–ç•¥ï¼Œè¯·åœ¨åšå®¢æ ¹ç›®å½•æ–°å»º`sw-rules.js`
    è¯·æ³¨æ„âš ï¸å®šæœŸæˆ–ä¸å®šæœŸæ£€æŸ¥hexo swpp æ˜¯å¦å­˜åœ¨æ›´æ–°ï¼Œä»¥åŠæŸ¥çœ‹æ›´æ–°æ—¥å¿—å¯¹é…ç½®åšå‡ºæœ€æ–°çš„æ›´æ”¹

::: warning

ä¸»é¢˜é»˜è®¤å†…ç½®äº†ä¸€ä»½sw-rules.jsè§„åˆ™ï¼Œä½äº`themes/anzhiyu/sw-rules.js`å¯ä»¥å¼€ç®±å³ç”¨ï¼Œå¦‚éœ€è‡ªå®šä¹‰ç¼“å­˜è§„åˆ™å¯ä»¥å¤åˆ¶è¯¥æ–‡ä»¶è‡³hexoæ ¹ç›®å½•ç„¶åä¿®æ”¹æ ¹ç›®å½•çš„sw-rules.jsã€‚

:::


8. å®‰çŸ¥é±¼ä¸»é¢˜é€‚é…hexo-swpp3.2+ï¼Œswpp-backends2.0+æ›´å¤šå†…å®¹è¯·å‚è€ƒ
  [Swpp Backends å®˜æ–¹æ–‡æ¡£](https://kmar.top/posts/b70ec88f/)
  [hexo-swpp](https://github.com/EmptyDreams/hexo-swpp#readme)
  [swpp-backends](https://github.com/EmptyDreams/swpp-backends)
  [è§£å‰–SWåŸç†æš¨åšä¸»SWå®ç°](https://kmar.top/posts/bcfe8408/)
  [å°ç™½ä¹Ÿèƒ½ç”¨çš„ SW æ„å»ºæ’ä»¶](https://kmar.top/posts/73014407/)
## Open Graph

åœ¨ `head` é‡Œå¢åŠ ä¸€äº› meta èµ„æ–™ï¼Œä¾‹å¦‚ç¼©ç•¥å›¾ã€æ ‡é¢˜ã€æ—¶é—´ç­‰ç­‰ã€‚å½“ä½ åˆ†äº«ç½‘é¡µåˆ°ä¸€äº›å¹³å°æ—¶ï¼Œå¹³å°ä¼šè¯»å– Open Graph çš„å†…å®¹ï¼Œå±•ç¤ºç¼©ç•¥å›¾ï¼Œæ ‡é¢˜ç­‰ç­‰ä¿¡æ¯ã€‚

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# Open graph meta tags
# https://developers.facebook.com/docs/sharing/webmasters/
Open_Graph_meta:
  enable: true
  option:
    # twitter_card:
    # twitter_image:
    # twitter_id:
    # twitter_site:
    # google_plus:
    # fb_admins:
    # fb_app_id:
```

## CSS å‰ç¼€

æœ‰äº› CSS å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œéœ€è¦å¢åŠ å¯¹åº”çš„å‰ç¼€æ‰ä¼šç”Ÿæ•ˆã€‚

å¼€å¯ `css_prefix` åï¼Œä¼šè‡ªåŠ¨ä¸ºä¸€äº› CSS å¢åŠ å‰ç¼€ã€‚ï¼ˆä¼šå¢åŠ  20%çš„ä½“ç§¯ï¼‰

ä¿®æ”¹ `ä¸»é¢˜é…ç½®æ–‡ä»¶`

```yml
# Add the vendor prefixes to ensure compatibility
css_prefix: true
```

## Inject

å¦‚æƒ³æ·»åŠ é¢å¤–çš„js/css/metaç­‰ç­‰ä¸œè¥¿ï¼Œå¯ä»¥åœ¨Injecté‡Œæ·»åŠ ï¼Œæ”¯æŒæ·»åŠ åˆ°head(`</body>`æ ‡ç­¾ä¹‹å‰)å’Œbottom(`</html>`æ ‡ç­¾ä¹‹å‰)ã€‚

è¯·æ³¨æ„ï¼šä»¥æ ‡å‡†çš„htmlæ ¼å¼æ·»åŠ å†…å®¹

```yml
inject:
  head:
  	- <link rel="stylesheet" href="/self.css">
  bottom:
  	- <script src="xxxx"></script>
```
ç•™æ„: å¦‚æœä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸æ˜¯'/',ä½¿ç”¨æœ¬åœ°å›¾ç‰‡æ—¶ï¼Œéœ€åŠ ä¸Šä½ çš„æ ¹ç›®å½•ã€‚

ä¾‹å¦‚ï¼šç½‘ç«™æ˜¯ `https://yoursite.com/blog,å¼•ç”¨css/xx.css`ï¼Œåˆ™è®¾ç½®ä¸º`<link rel="stylesheet" href="/blog/css/xx.css">`

## CDN
é…ç½®æ–‡ä»¶ä¸­æœ€åä¸€éƒ¨åˆ†CDNï¼Œé‡Œé¢æ˜¯ä¸»é¢˜æ‰€å¼•ç”¨åˆ°çš„æ–‡ä»¶ï¼Œå¯è‡ªè¡Œé…ç½®CDNã€‚ï¼ˆéå¿…è¦è¯·å‹¿ä¿®æ”¹ï¼Œé…ç½®åè¯·ç¡®è®¤é“¾æ¥æ˜¯å¦èƒ½è®¿é—®ï¼‰

```yml

# CDN
# Don't modify the following settings unless you know how they work
# éå¿…è¦è¯·ä¸è¦ä¿®æ”¹
CDN:
  # The CDN provider of internal scripts (ä¸»é¢˜å†…éƒ¨ js çš„ cdn é…ç½®)
  # option: local/elemecdn/jsdelivr/unpkg/cdnjs/custom
  # Dev version can only choose. ( devç‰ˆçš„ä¸»é¢˜åªèƒ½è®¾ç½®ä¸º local )
  internal_provider: cbd

  # The CDN provider of third party scripts (ç¬¬ä¸‰æ–¹ js çš„ cdn é…ç½®)
  # option: elemecdn/jsdelivr/unpkg/cdnjs/custom
  third_party_provider: cbd

  # Add version number to CDN, true or false
  version: true

  # Custom format
  # For example: https://cdn.staticfile.org/${cdnjs_name}/${version}/${min_cdnjs_file}
  custom_format: # https://npm.elemecdn.com/${name}@latest/${file}

  option:
    # main_css:
    # main:
    # utils:
    # translate:
    # random_friends_post_js:
    # right_click_menu_js:
    # comment_barrage_js:
    # local_search:
    # algolia_js:
    # algolia_search:
    # instantsearch:
    # pjax:
    # blueimp_md5:
    # valine:
    # twikoo:
    # waline_js:
    # waline_css:
    # sharejs:
    # sharejs_css:
    # mathjax:
    # katex:
    # katex_copytex:
    # mermaid:
    # canvas_ribbon:
    # canvas_fluttering_ribbon:
    # canvas_nest:
    # lazyload:
    # instantpage:
    # typed:
    # pangu:
    # fancybox_css:
    # fancybox:
    # medium_zoom:
    # snackbar_css:
    # snackbar:
    # activate_power_mode:
    # fireworks:
    # click_heart:
    # ClickShowText:
    # fontawesome:
    # flickr_justified_gallery_js:
    # flickr_justified_gallery_css:
    # aplayer_css:
    # aplayer_js:
    # meting_js:
    # meting_api:
    # prismjs_js:
    # prismjs_lineNumber_js:
    # prismjs_autoloader:
    # artalk_js:
    # artalk_css:
    # pace_js:
    # pace_default_css:
    # countup_js:
    # gsap_js:
    # busuanzi:
    # rightmenu:
    # waterfall:
    # ali_iconfont_css:
    # accesskey_js:
```

| å‚æ•°                 | è§£é‡Š                                                         |
| -------------------- | ------------------------------------------------------------ |
| internal_provider    | ä¸»é¢˜å†…éƒ¨æ–‡ä»¶<br/>å¯é€‰ local/jsdelivr/unpkg/cdnjs/custom<br/>lcoal ä¸ºæœ¬åœ°åŠ è½½ï¼Œcustom ä¸ºè‡ªå®šä¹‰æ ¼å¼ï¼Œéœ€é…ç½® `custom_format`<br/>**æ³¨æ„**: å¦‚æœä½¿ç”¨çš„æ˜¯ Dev ç‰ˆï¼Œåªèƒ½è®¾ç½®ä¸º local |
| third_party_provider | ç¬¬ä¸‰æ–¹æ–‡ä»¶<br/>å¯é€‰ local/jsdelivr/unpkg/cdnjs/custom<br/>lcoal ä¸ºæœ¬åœ°åŠ è½½ï¼Œcustom ä¸ºè‡ªå®šä¹‰æ ¼å¼ï¼Œéœ€é…ç½® custom_format<br/>**æ³¨æ„**: å¦‚æœä½ é€‰æ‹© local åˆ™éœ€è¦è‡ªè¡Œå°†æ–‡ä»¶éƒ½ä¸‹è½½è‡³æœ¬åœ°ï¼Œå¹¶ä¿®æ”¹å¯¹åº”çš„é€‰é¡¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ |
| version              | true/false ä¸º cdn åŠ ä¸ŠæŒ‡å®šç‰ˆæœ¬å·                             |
| custom_format        | è‡ªå®šä¹‰æ ¼å¼                                                   |
| option               | ä½ å¯ä»¥åœ¨è¿™é‡Œæ›´æ¢éƒ¨åˆ†æ–‡ä»¶,ä¼šè¦†ç›–åŸæœ‰çš„é…ç½®                    |


### version

å¦‚éœ€ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œå¯ä¿®æ”¹`ä¸»é¢˜ç›®å½•`çš„ 'plugins.yml' ä¸­å¯¹åº”æ’ä»¶çš„ version

è¯·ç¡®ä¿ä½ ä¿®æ”¹çš„ç‰ˆæœ¬å·ï¼Œä½ æ‰€ä½¿ç”¨çš„ cdn æœ‰æ”¶å½•

### custom_format
æä¾›ä»¥ä¸‹å‚æ•°

| å‚æ•°                 | è§£é‡Š                                                         |
| -------------------- | ------------------------------------------------------------ |
| name    | npm ä¸Šçš„åŒ…å |
| file | npm ä¸Šçš„æ–‡ä»¶è·¯å¾„ |
| min_file              | cdnjs ä¸Šçš„åŒ…å                |
| cdnjs_file        | cdnjs ä¸Šçš„æ–‡ä»¶è·¯å¾„                                              |
| min_cdnjs_file               | cdnjs ä¸Šçš„æ–‡ä»¶è·¯å¾„ï¼ˆå‹ç¼©è¿‡çš„æ–‡ä»¶ï¼‰                    |
| version               | æ’ä»¶ç‰ˆæœ¬å·                   |
	
éƒ¨åˆ†å¯ç”¨çš„ç¬¬ä¸‰æ–¹ CDN åˆ—è¡¨

> è¯·ç¡®ä¿ä½ é€‰æ‹©çš„ CDN æœ‰æ”¶å½•ä¸»é¢˜ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹æ’ä»¶

| æä¾›å•†               | æ ¼å¼                                                         | å¤‡æ³¨       |
| -------------------- | ------------------------------------------------------------ | ---------- |
| [Staticfileï¼ˆä¸ƒç‰›äº‘ï¼‰](https://www.staticfile.org/) | https://cdn.staticfile.org/${cdnjs_name}/${version}/${min_cdnjs_file} | åŒæ­¥ cdnjs |
| [BootCDN](https://www.bootcdn.cn/)              | https://cdn.bootcdn.net/ajax/libs/${cdnjs_name}/${version}/${min_cdnjs_file} | åŒæ­¥ cdnjs |
| [Baomituï¼ˆ360ï¼‰](https://cdn.baomitu.com/)       | æœ€æ–°ç‰ˆæœ¬ï¼š https://lib.baomitu.com/${cdnjs_name}/latest/${min_cdnjs_file}<br />æŒ‡å®šç‰ˆæœ¬ï¼š https://lib.baomitu.com/${cdnjs_name}/${version}/${min_cdnjs_file} | åŒæ­¥ cdnjs |
| Elemecdn             | æœ€æ–°ç‰ˆæœ¬ï¼š https://npm.elemecdn.com/${name}@latest/${file}<br />æŒ‡å®šç‰ˆæœ¬ï¼š https://npm.elemecdn.com/${name}@${version}/${file} | åŒæ­¥ npm   |

	
	
	
